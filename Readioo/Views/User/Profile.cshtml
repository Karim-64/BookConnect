@model Readioo.ViewModel.UserProfileVM

@{
    ViewData["Title"] = "My Profile";
}

<!-- Link to the dedicated CSS file -->
<link rel="stylesheet" href="~/css/profile.css" />

<!-- Custom styles for this view -->
<style>
    /* Define local variables or overrides if needed */
    :root {
        --brand-orange: #FFA500;
        --brand-orange-hover: #e69500;
    }

    /* Static Button Style - Filled Orange for Contrast */
    .btn-static-action {
        background-color: var(--brand-orange);
        color: #fff;
        border: none;
        border-radius: 50px;
        padding: 10px 30px;
        font-weight: 600;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(255, 165, 0, 0.2); /* Soft orange shadow */
    }

        .btn-static-action:hover {
            background-color: var(--brand-orange-hover);
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 165, 0, 0.3);
        }

    /* Secondary Action (Edit) - Outline style for hierarchy */
    .btn-static-outline {
        background-color: transparent;
        color: #555;
        border: 2px solid #eee;
        border-radius: 50px;
        padding: 10px 30px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

        .btn-static-outline:hover {
            border-color: var(--brand-orange);
            color: var(--brand-orange);
            background-color: #fff;
        }
</style>

<body>

    <main class="profile-page container">

        <!-- 1. Identity Section (Reverted to White Background) -->
        <div class="profile-header">

            <!-- Avatar -->
            <div class="profile-pic">
                @if (Model.UserImage != null && Model.UserImage.Length > 0)
                {
                    <img src="data:image/png;base64,@Convert.ToBase64String(Model.UserImage)" alt="@Model.FullName" />
                }
                else
                {
                    <img src="~/images/default-profile.png" alt="User Photo" />
                }
            </div>

            <!-- Info -->
            <div class="profile-info">
                <h2 class="username">@Model.FullName</h2>

                @if (!string.IsNullOrEmpty(Model.Bio))
                {
                    <p class="bio">"@Model.Bio"</p>
                }
                else
                {
                    <p class="bio text-muted fst-italic">This user hasn't written a bio yet.</p>
                }

                <div class="action-buttons d-flex gap-3 justify-content-center">
                    <!-- Edit Profile Button (Secondary) -->
                    <a asp-controller="User" asp-action="Edit" class="btn btn-static-outline">
                        <i class="fa-solid fa-pen me-2"></i> Edit Profile
                    </a>

                    <!-- My Books Button (Primary/Orange) -->
                    <a asp-controller="Book" asp-action="MyBooks" class="btn btn-static-action">
                        <i class="fa-solid fa-book-open me-2"></i> My Books
                    </a>
                </div>
            </div>
        </div>

        <!-- 2. Stats Section (Shelves) -->
        <div class="stats">
            @foreach (var shelf in Model.Shelves)
            {
                <div class="stat-box">
                    <h4>@shelf.ShelfName</h4>
                    <p>@shelf.BooksCount</p>
                    <span>Books Collected</span>
                </div>
            }
        </div>

    </main>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>